<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./styles/page-styles.css">
    <!-- <script src="./custom-components.js"></script> -->
    <title>Web Components</title>
</head>
    <body>
        <!------- Tratar de modularizar ------->
        <template id="sell-item-template">
            <div class="item">
                <link rel="stylesheet" href="./styles/sell-item-styles.css">
                <img />
                <p id="price"></p>
                <h2></h2>
                <s></s>
                <p id="stars"></p>
                <slot></slot>
            </div>
        </template>
        <script>
            class SellItem extends HTMLElement {
            constructor() {
                super();
                const shadowRoot = this.attachShadow({ mode: 'open' });
                const templateContent = document.getElementById('sell-item-template').content.cloneNode(true);
                shadowRoot.appendChild(templateContent);
            }
    
            static get observedAttributes() {
                return ['name', 'price', 'image', 'stars', 'original-price'];
            }
    
            attributeChangedCallback(name, oldValue, newValue) {
                if (name === 'name') {
                    this.shadowRoot.querySelector('h2').textContent = newValue;
                } else if (name === 'price') {
                    this.shadowRoot.querySelector('#price').textContent = '$' + newValue;
                } else if (name === 'image') {
                    this.shadowRoot.querySelector('img').src = newValue;
                } else if (name === 'original-price') {
                    this.shadowRoot.querySelector('s').textContent = '$' + newValue;
                } else if (name === 'stars') {
                    this.shadowRoot.querySelector('#stars').textContent = newValue + ' ★';
                }
            }
        }
    
        customElements.define('sell-item', SellItem);
        </script>
        <!------------------------------------------------------------------------------>
    <h2>Mire nuestros increibles items!</h2>
    <div class="items">
        <sell-item name="Perfume" price="34.990" original-price="54.990" stars="4.4" image="https://encrypted-tbn0.gstatic.com/shopping?q=tbn:ANd9GcSsp4X9qfz006BHlUfzTB1kxhExakLPKweDfS2dGfZ3vzpux2e3v2hqs6-qLIDTA74udPPuHUJ9Br6SjAYY3cu5ocGEL8Tc0A3s9KlN5e0ai2JC4JB9O5kGKinOQ1x8ZMxqXOq6xQ&usqp=CAc">
            <p>Buy now!!!</p>
        </sell-item>

        <sell-item name="Sombrero" price="23.790" original-price="33.690" stars="4.7" image="https://sombrerosdelpiano.cl/wp-content/uploads/2022/02/SHFL-46.jpg">
            <p>Mira que sombrero más bonito</p>
        </sell-item>
    </div>
    </body>
</html>
